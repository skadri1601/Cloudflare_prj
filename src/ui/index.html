<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Travel Planner - Powered by Cloudflare</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="app">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <div class="logo">
                    <span class="logo-icon">üåç</span>
                    <h1>AI Travel Planner</h1>
                </div>
                <div class="powered-by">
                    <span>Powered by</span>
                    <img src="https://www.cloudflare.com/img/logo-web-badges/cf-logo-on-white-bg.svg" alt="Cloudflare" height="20">
                </div>
            </div>
            <p class="subtitle">Your intelligent travel companion with real-time insights</p>
        </header>

        <!-- Main Chat Container -->
        <main class="main-container">
            <div class="chat-wrapper">
                <!-- Welcome Message -->
                <div id="welcome" class="welcome-section">
                    <div class="welcome-content">
                        <h2>üëã Hello, fellow traveler!</h2>
                        <p>I'm your AI travel agent, powered by Cloudflare's edge network and AI. I can help you:</p>
                        <div class="features-grid">
                            <div class="feature-card">
                                <span class="feature-icon">üó∫Ô∏è</span>
                                <h3>Plan Itineraries</h3>
                                <p>Custom travel plans based on your preferences</p>
                            </div>
                            <div class="feature-card">
                                <span class="feature-icon">üå§Ô∏è</span>
                                <h3>Weather Updates</h3>
                                <p>Real-time weather for your destination</p>
                            </div>
                            <div class="feature-card">
                                <span class="feature-icon">üé≠</span>
                                <h3>Local Events</h3>
                                <p>Discover activities and events near you</p>
                            </div>
                            <div class="feature-card">
                                <span class="feature-icon">üíæ</span>
                                <h3>Remember Preferences</h3>
                                <p>I learn what you like for future trips</p>
                            </div>
                        </div>
                        <div class="example-prompts">
                            <p><strong>Try asking:</strong></p>
                            <div class="prompt-buttons">
                                <button class="prompt-btn" onclick="usePrompt('Plan me a 3-day trip to Seattle')">Plan a 3-day Seattle trip</button>
                                <button class="prompt-btn" onclick="usePrompt('What's the weather like in Tokyo?')">Tokyo weather</button>
                                <button class="prompt-btn" onclick="usePrompt('I love hiking and museums')">Set preferences</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Chat Messages -->
                <div id="messages" class="messages"></div>

                <!-- Typing Indicator -->
                <div id="typingIndicator" class="typing-indicator" style="display: none;">
                    <div class="typing-dots">
                        <span></span>
                        <span></span>
                        <span></span>
                    </div>
                    <span>AI is thinking...</span>
                </div>
            </div>

            <!-- Input Section -->
            <div class="input-section">
                <div class="input-container">
                    <textarea
                        id="messageInput"
                        placeholder="Ask me anything about travel... (e.g., 'Plan a weekend trip to Paris')"
                        rows="1"
                    ></textarea>
                    <button id="sendButton" class="send-btn">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="22" y1="2" x2="11" y2="13"></line>
                            <polygon points="22,2 15,22 11,13 2,9"></polygon>
                        </svg>
                    </button>
                </div>
                <div class="input-footer">
                    <span class="user-id">User ID: <code id="currentUserId"></code></span>
                    <button id="clearMemory" class="clear-btn">Clear Memory</button>
                </div>
            </div>
        </main>

        <!-- Status Bar -->
        <div id="statusBar" class="status-bar">
            <span id="connectionStatus" class="status-item">
                <span class="status-indicator connected"></span>
                Connected to Cloudflare Edge
            </span>
            <span class="status-item">
                <span class="status-indicator"></span>
                <span id="responseTime">Response time: --ms</span>
            </span>
        </div>

        <!-- Loading Overlay -->
        <div id="loadingOverlay" class="loading-overlay" style="display: none;">
            <div class="loading-content">
                <div class="spinner"></div>
                <p>Processing your request...</p>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>